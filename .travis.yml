# Copyright (c) 2006 Seva Safris
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax && rm -rf ~/.m2/repository/org/jaxdb && rm -rf ~/.m2/repository/org/jaxsb && rm -rf ~/.m2/repository/org/jetrs && rm -rf ~/.m2/repository/org/jsonx
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -pl openjax,jaxsb,jsonx,jaxdb,jetrs -amd deploy -P javadoc,deploy;
  else
    mvn -e -U -DskipRTests -pl openjax,jaxsb,jsonx,jaxdb,jetrs -amd install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: rtuVoX801HTkjjqrBzZTeVbZ+SGC8+Y/XJrpjR9qImxdGGdaxP+hYFoj6kY/eYH7Z8ajTRKvLCdEmQ/CHa94GTJwlCRoVyjyO9qZ3nK+QN5AJbUqkZ2un5QTmrcT5f07A+v6v6rslv+FdmAJqhs5VTiFjJ3AuKhtxOcWQKFqJQmOGV3M/lVX3JQM91cyiFuzqPnJWrwOm6rcTNb4IwEtMKYbc75tR2aYgdxvbkmrXyByLIV5KGCVcbMomOtCOqXj+dCbS40WNasaI/+HbQXdVQUa4TWEkcmtdy/VV6IRbhXtp9tYNC+OyNcu5ZSsZBbo8IVEKrLvNgS33t3CspUBJ0ax5if0VEFo/e/GZVkeVn+BjAclnIthcbwhrrW+bMT3SuR+ATxyD8AAjzSYuUmoZwRepMC5/U/Bn/XyhpVnk0Sr9fyAn7jlFzsnHr9obWVxMhHOvJ2V0SWBg8kQA7Fe9djTGlRrMGxYSog2zWdUAH8nU0V4fsaNalTda2FyxUzpajDfHvBEuxl7sMGRdBYJ4LLmZIDkKIsB33a5WeROg8S7pVFEsSyM9QQ/vtJ8zVlPzKEPqNEeZo+ZkSw2S979Uq2nMWzQIvfcgwArTckYdLr3jJ5ECpTm75SqN6xS4PEQgRfb5gPaIcx1gFznGLTfX7Vt+VxUVDejEX5zJjm22U0=
  - secure: LYkh3vYF09Rax1xtOQpSRp+spBE2oE9uCVWJBLh5IDYs+BtPNdM0a88JukisMRsQEeBpYjTVMbt6qRVodjVHU4KMqejEyXlZJU9o3T2s/pLUVUsZf6Chp7OEy/+Q+bUXLOvlH5DHrFPeq6h7DeqIDLpvAdnKCQdPv0cT4dvgHxJgMHF0rVMT0GCIlTZG8nIjyrMiinhy8BVMWWeC5FJNdw/0UikNzWtET5hmVwpLmBomzniFwhbEzpG16KTcl03A4a+3B5fh0Hmsbm0kyuu5nVeQe9z+PZctfoaf1iU6x+Fw8fwvumcI9ep1N0Mac8LYzNWvUm17f44l33LM/dbjeLXdDcXFZeQOC6NPR19Q4zGe9wGapQcb682Srqi2MRZzEUnug/cjpV1MUO0/B4Rx/VlrQO8L9uUklK3Gqi/8EeVNRqDtWBwbk5KExT+A/NjVA63VuWC5rs0gJrm92YHmpxDI5xtnzlk/J/37k3qAjKtPkLAOGVNAMQC3gm+WndpRzXQnAFYd+mVL8ftgPONwR5SpVUhpGyCiXZ5PNIV+q3Xs90qu6s/5t3U39kx9RqNgDUw9+Jo7egLLcFypJb2pDy2PbVwJAzVwkSEzSo+mL6QdoGWwt+1t3Asq1dhUqdOKQg+xiBXqpTlRWOTYuT3NQDSSSaImkQnNhSSwrziasPY=
  - secure: WnlfMzPKoVTC6rbAhgRr0hR4Yn6WkyELTc7e+vL4j3uNn/DOp3wtY+G0zj3XiS9yfmAsaBq+JYotpq/qgakr7fRqpwsw5iA7GkMbQGsn2jkndwztzcSkyIu2mQcTTlXbrICvl02tMqhhg31pD3969cH+Yn1LA1eiMeY4nY2u2VsU05AwchLFqVBn/1X5uKmwn8tFIYisY4PsguX+KNgK18mzCeATKzBI0E+fRlQwhUAInAF6gTzZpPrLvg2nwOIpsGY7ZgWlJxmEicsRIprURVg9LKnZVDu/gJErpq1MjyVzh8Pshh3dp3gzSKgrFQx8uLpuYV5/211LbfaQ6pc6TaPlCR9DWyUuGoTz0m9s3F/lz6rmixa74U0iF1FHV86Wg7E65ATGnpgHeCvvADt43gMTdIW8DY9X9GxfKHWn4UBF55xSSYBM6rWHRKCX7s6QqvLjVs+WTnM8KXdhu5afyDaPOb8inLXK3eImgekcn2wGJcw4I36fxJ6h5ElaK+cdN1RcmGcO7TxTvb6Jb+VACDquOShLhw6gUBP/S+q+QrePUaK/ADFrUPH9FEYR/In/qKrl7o3bRd2+GFJ9pl3oXAWC9d3G/9NZTRxuZv5GsAEKUyKdugxhyAqbpE6mT3ZoJsD+pPv9N5Azqtx/+k+vDv91IiY2yyGdutfuNIkeGiI=
  - secure: kro0X9/L3my10m6u3Yazll2lF2rGVemKbRKxGYrmdHS9H101c9tVGN014t+QZ1jBVcqOl+KmLYKoOrrVg885DXiSthmVUVpxr/3U4q2ZE84Qzn5djNIDMhA7UWaCeIWIaTNoPmh7YSzgdYtMd51vfJ4bAgeWF5BTGxsaPhBFEECkl+ZxkLU8kBTnFrxFmUxd5qu0VcAg9VvbGRRhoza9b6c9pJScWT+OAJ0Ft/mq7nz5KdY9ZxstIa9U2zXy9Lmxn4v4TFdmkS95zJ+OzSi8BgLyqiPzGbgzKE+f9fO8aNlsmi93e1Sls+zBiD0bzSHLRoduhwebKjFnnPHGHXNIA3wgo1wT+02wHJYYMa3tWQWCaK4VOAptQ/h26+eAVFW71WO5fNKUrSV2FG1Aq+l1aWjqN/kdP+NNk0bJrPjlAkfBIsDxbVAKj023U8+7feVuJrQLlMHm/UN+nZuX3c9RWGrEaxAwTitvttoOS2CT6MKtIXYiVWA7LLL6uIAE5BciCCq5fkiObvDMJXQPdNDL2NaGA+Re60y76UYHCqeT0qTvkR24PzBWR/f3FWMhVCmHcqLfLvLOmJtxM7GZp1z6FAPYn/GM4BMSLJvxzfPw5L14XL3j1GK/7jt5DtgI8OKmuGZ4h64gzQh3vKtcNNcMUoW5CRoFtM9KFiTGuGxj3GI=
  - secure: DMuEie+z55KmxDsWcTGBmv3USo0YjHWGI3/BSwUXfc5fexKI6aZHlbpgrKycWQjW5+Z+9pOpNOXXCJOQa8kT6VvOqsgkkbPuZV1L6qIjFJXkjMwJJKbZdegBOrKruoydPtu/rmMCPXl5xKGE9bvbAFq74fkv40bIQ+R8XUvhpiO7PiASQuqsWCN+K7ZOfmSY3LM2FZUe55F4FNyDkGi9AECMD3XAey2ki1mmAl7mQGz6RE96GKnV/9B5Bl4++ayf1hR2FkcpjHWytomTUoDkUBM0akjGu/7FZdPldA/4lnxNg//8Ql3q/wd4ztkBYF/fa1wjGv6gBpD50FzZB5YhADwhv1ozPkqH6hKc2u5vrVf9esi7cAsNLwtfu2/37wAiWNziKraspXYZFTzSvTKG5nXRYfUfLAzvdssxHlA3dJ4pWqYOUe59eXZ4SLQ2q20hVCtGqpHXLW3ncNpwpTV7D0hMfHGsX/1HW4WXD4ZIBkjCEaUKbIJXDMtBvoRq06FzevW8B1qJyZdFEgjSh9nh/Mj8yh2UEBcu9EUTNGKPAyQgnIGjMEkT+mJyQhm7tjdFVWrVCOyeMA4kWx10UxS8Qamf/2h3vUtVqSafLDYFM4503bYxR4XBwd3T98DNC7s5a9QfV50eahZNGqH0g5yTLUtyuhB0OigTHQ1vKH0oEBo=
  - secure: Ate679DDfRDdvGoSRhyA9Yo2VoFkIIyTsWFCNbOOnSCV4CDZy7WjeoSFOeZYXV3xvAsHp3mwwTW0l3K6gqN8RohLl4fmC0FqoBxKuAKaEJJYFlpQTwmSBo8Elsp3Sauo+0tk4xUYJ/wVahD0WBfoT3M0JkNgd8Ov6I6L6XnNmkN8Pp6jm5ZvXdr0vPjmyX2/lCKUu/zTrQkDD2sFev41xjJqaSKMa4OibpJA/4mPbrY6mHJwWRK4PNu0DEuboPbE0ey2vTtUDqkDFIVqEBtN3pMD602Z9y8khm2OMNkVhyvVg0mM2FfF3X6LRPaN0x7+iNQGg5A6VhOepZUkQa/uhWsJFztc5TBUGqDRn/JBB7fC5kmIjKwdJ5DgM210M/2QvVPCabX2A/2eszyaKhbSMz9R0d52uFNAr2594fyp/PWa5pB3yghPs3/hsKmCwQOvs0M2nDssEWNI5a+XPPqwiHJx1gHY4JgvQga9zazfRt65EzVMg/mvV/KvkAWcy94vftGCxnZbo3veJaAuO/MENrIh4DnQINfGBihAUMaQ5QguwVYFMFS1kJvKrE5Kw9t1OtiwWT+7DgRVk606YB+KsSaW2d4mgfcZCviyzfDZbY+FE7rn5hvtnb8Z/4stDm+dA3j/dkDxrlzBjkiW3vz9ENH6fCT2d2obPmeAmvJzFcU=

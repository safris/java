# Copyright (c) 2006 Seva Safris
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax && rm -rf ~/.m2/repository/org/jaxdb && rm -rf ~/.m2/repository/org/jaxsb && rm -rf ~/.m2/repository/org/jetrs && rm -rf ~/.m2/repository/org/jsonx
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -pl openjax,jaxsb,jsonx,jaxdb,jetrs -amd deploy -P javadoc,deploy;
  else
    mvn -e -U -DskipRTests -pl openjax,jaxsb,jsonx,jaxdb,jetrs -amd install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: paTuJqlkRaHk/BhZZSk/i7n4tpyUjhzz0eLUwcWzWpTOin5v/gSO4z3UIj8WEYYvS+poQAOIHsqE+nMdgkhODuJ7k1ejepSV8NVtoQwa9BdBwbaD4ByEIMxfLcxKuFuNYpEPwL3+ALkEOi0bXzibowv8wQPpCiltyyMnEQ8RjrElnxOozKdZftKlHcq91olfjNk+ubnQi7/P7zOBAR3Ebuob9yeCcY0VJlYFtJM+3naK5uszXF7zwvSmnTnQkgBONbEmTmYUsRVXG3TQksRB8UZEKdvuq1VekihyOy00Al97x8vBnsmFMDHZL2U7vLralxRox+BH5/2dVSkywUVenLwTwm/cxFTOZeTny1WEU4SXPzunxaXndYL9flltNW1aabqEEkLH4+5a9VRfjC5p+ZYY6JYfvKXEAvLnryl0dBKCa1fFcZTijV/2x94u797AiVmkHTiJ0X+h64AIzscuaV24e5zrsB3pr+oO87TiKCsg12kFn4aKTTpgvWrHXVMYokdSUcQaVM2ndF8MMox/LAHoHH1md9YiWBsJylmyDDlFBnWpPDRHskZ+dXozq2XVizkoGEdmAG466L1YQdB3sfBhbiOq2J3jgqKFoHbSFfibT85EEPU5UQ0ZyJbJzSvTed7rXYTnW33OXZeEtmDJ8uNgRAp2MWLtfcoZs7PuaFA=
  - secure: iKyM1/Cs1aOMHe7uKEd6HYfTDewCbWggjSMWFd2jD4X0NQsYTrqjC2JrYu3dxTF2xjbhPGiIfZOsoRH3MF8eDH0MKSP+FbjuK5KGqQaM3xgYmnOd+iSjsB7dVaSb0dfOtoth/qNGG6k0rO5ku3IsTF2qcCsx/Ozh47hGNEz8DM4h1s7quIm2SsFM9t2JJNdJjv1AiLzLdtK06MQfL3u12VdgbsiJoXCW9tYOZ3Z4MVqMfAqIKS30wKq5ai8A/Z36VZxhv81+MF/0bmGJAAOIzQyNX2Nlyta7qAojbXAkwaSbhZlkbbhqjH9ZRApL8e2f8G0Tx1kFHHR1Ypa5hYBJdgDrYaIdZOrztcOSgqiRtD+XnUcm1/4z8wmrCSmd4nw20ZM0NbkofNKiRt1/r4cUtHsYvjvQ3PnJOJLs5XSlth4f+2BFDXHxlt3BwYffT5m7TWYviUxICnd5lDz2BieYJ2mxs43ayQyV2GLYVStpx/Vt/+UCUbr2TOQHgP/Z2zCijzIswoEag7walJmBDZ19JAiVMOFaWoWaleiMMwmJ54DHFkghUb0Dv9Dt3FbOJsxOX2Bjug/DeczeIKL+KWpHsCbYTN4Qn2ZqJBiAWD5AlfcjvwNBnLOQznhMTx9MoiFTvXxkU6gNey5+OD4iniOEiehdL4+99m+0TXJQ6ohfa8c=
  - secure: kjy6mU4KkTvvph2LbJ/rOy7qsLOkaZ15/YG9IBYcwW4ZYuYwBHDMltXjfUz33IKG+5sCZRBNZNGRaFOI45Y9k9CHhzCqqBGG4lAAAofr8SlejsQ9VBnKDSwAIFX4pG1ORqkQPuWCzaha3Pwgb6q1Tx9qUqUL64WalyAR5FmPENoyXP49oiX7zqu59r9TCn7ENsgmmShrwSN4BJEsN2eQrdZvH+jb2/N1hy+wDuyzZcTSPwDYxRksvnpxhWh0TLgMgs6icvPhAta6GOWNtxhk1E2qXhAMvdxpK2A1XuS4L8pTJ4EfHhAvCwmo0iRmdyoZJXpMVuMvzcy0vjWhS1Y4MwQ98GIgpDASMU7GBS3gLsAumxvRS7Kp8Yei8CP9UXvVVchsBn/Y54HLKIM6NYpKpdK99/0WpZUzQlWhPwmI3ZECYSZZS9w013TcDhmiBsQ8uQ3H9mwYZqivHggi+Qp6ty9NXUjneaPeF6388UfUEzUoXgRedXcwoGM0nlV2jkuu2yTIueRdvvEUOj9Q4As2/TVFOduYc8mxcQ5LMQCpaO3eCY7Me+m5K+CreZzxH7YyLTgUnID5+eteEFuD/Zzlw7Ma3YyFvGr0WlihmYCdF8WUbgjKQdtCoitaXM3r3QWbM8x+XAYrLSIbHkYfp2vVHOUM8iv9KVWN1plKlpzhdk0=
  - secure: JtvKzHkTG76UYlSXJzxW+I/UdfNlA/5m/kEmbv0kgGrYVlVUpaz6yzt06Gn+d9zGLFsmAtY2RpV4ne0iq4W23XgJFf2jRnLvT2pQgiJ8oCqAe031Qo2ads9RXNAjt9qXscbPHnkk3kDZo5YJGaDUpsCr0pxit2WiXc1bm6jEIyTNbT3dM8rZnBKkiH8+yWH3D2Jk9A0DAbVvnlHX+dPS4o0nxSsy9eZGUkn7C/i8bFBJXJrK3M0ZKggGCdAyF2BXgQ0UaAdwmm2Myn9030X0s0hvNyKrR4DYOPfX0vqnj2q39Mz/PRkvsZQ/0SlCG3Xrj6ZWVH49kjhvW+vak/zCKNc9f5/TUcWohvD+5xmhYoGRFu1k/BWyZ0+XdNaJkK1VmCjO8o3Z4DJQu42ZJzFPM5/6wh+nIUdf5O3m80V1CH9IYi+sf1qSIIA+BtpkcPfHRJXpPFX1w3wdtvjYgFFGHY3xQgD5LUZzbwqme3SOk/Svs/HGTYxf4UqasAt7ux1EBUJ4rFKeBMC+F8aJtSWfmkXfEtMTbOqv+dBlUywUTZWUTnrZ6Tcq/OVwfankoT9nEtUdw5fl1WiiOGjGI8JVxo8JavzGRr0ZL5jH0TXCIZiAQF8MRWSus7yadvc0OJ/Ch6AIkhvGNC5o6HHJVfpUEYXHtiQWWg+wqSolD2jlRvU=
  - secure: qUg/r2vPIZ9qGYdMJNJVNDvT8JVDwfKC/pCsJKX6jSBcll3dDOFyBmB7Ize2ddLRpcjieB4BGOnsnUXRaNJeMUbZF785zv+Mtpexc+G+kkeJ/Izt9+6gP6QfHOjx2QTopuR6Ql+Ood3RNsPpa4QCIrSPAre5uPze6X0XYGZja7AaZd5sVnEGoix2TQYuFK6kLMebQo/PXXtuVq6remHP4D+sMKyBeC2vhzgFwiF5vz35bks3LfD5LGrhPXgqYW82egxC8mHXiXnAmqi4cAXTrheRwc0YblLEB5OPT3MXjKPC+Wtq44a416uJ31Z0tTc3Y3tjSwEsYcEobyweNmDyRMVmnrEV5nhptFzzHONceVH+HI/3NZRqkjcE9OATunhgIMpImMoZDxJ+6T/2zNRrFWEjz/QIlcFu0EAOmxr0M9P47JLyftF3PMHCmB9Ix0SuTH7N1CqJ6eQldwH1NjQ5YyOcQLULqpOV86RShmlsk1Tdat5srWbGhZoegxZ0tCAllcksF9eEuWQhcRCzppe1S8SPFjv6HYGukAg42onmTkj5yQx9tdOqDGwxYcmhw/Fr2QrLCCn29Z/6H/FxWoSG9XjrUadZpa5ZR5I66L1EFE56LYeSoB0T+sCUvPCnCf2ioAC9Qa4b0UbpRJ1utmqoC1NCgR9lSbp4iOTy3jfBJQQ=
  - secure: gVjSu5UkrCA7sduhkL17exn2B37j2TbabRoIGJv6DsyF68vfK6s36eGr6/neAEe1RhEv9IlZFzWUoB7zGwUkOMDpf0jtAQVb+nls0V5+2ERUtbbz0mxbzI0rspaniUfNynA3/Y+KOQti3iDOgvSXtr9nq/F7Gnm0ySuszwFKxsSIQWK2U/3oRO1yxA9ZmdHHtGtymF9+Ge9X3tVez7FIXOVuW6+XFzFDYMKWrcRXN9qaX8wt2Vb9jfnLQHAuqlnZhVM1d7/IcD8+XF4L6uOqmWH+QoTnLBKiE/mnBG80tYUvY1SimmUu909XCfHoSZMu5GCuBcJHQ2H4iv+Iaf9EEUf2MbYDpsynoaAyYiSrY090R7ebiWym6Sy7GzvWXir06KWxRJJymlz9Cn26U5tMnnT2/yLzO4zsyYt8E/u+93ToBUjoQuMbFTKt0UOLryWTPoPGUPNhDGMoPzoINPvVwrMOwhsNY3f8yLmaAxsKBmiKXRdyBtOxgGY/7OaAcbXbtPEyl97HK2eJNJzVJjysLDMCDcLnSltt15D57BbbBKjq7FV51P5CoVyxjbYw8X/ZeIK/vTDvOmC6WRPksKzhnt+uiiJd15imGW+GF31Lyv25iElnkVWa6ZakBorx0cF+WzTX2L6KGhYVrqWsj0vvEO4iURAWP0ynfZRO0Zg7J/g=
